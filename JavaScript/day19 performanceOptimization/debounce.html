<!-- 
    防抖：
    单位时间内，频繁触发事件，只执行最后一次

    使用场景：
    搜索框搜索输入
    手机号、邮箱验证输入检测

    核心思路：
    防抖的核心就是利用定时器setTimeout来实现
    1.声明一个定时器变量
    2.当鼠标每次滑动都先判断是否有定时器，如果有定时器先清楚以前的定时器
    3.如果没有定时器则开启定时器，记得存到变量里面
    4.在定时器里面调用要执行的函数
 -->

 <!DOCTYPE html>
 <html lang="en">
 <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>防抖</title>
    <style>
        .box{
            width: 200px;
            height: 200px;
            background-color: pink;
        }
    </style>
 </head>
 <body>

    <div class="box"></div>
    <script src="../day18 deepAndLightCopies/deepCopy-lodash/js/lodash.min.js"></script>
    <script>
        // 1.lodash防抖

        // 语法： _.debounce(func,时间)
        const box = document.querySelector('.box')
        let i = 1
        function mouseMove(){
            box.innerHTML = i++
        }
        // box.addEventListener('mousemove',_.debounce(mouseMove,500))



        // 2.debounce
        function debounce(fn,t) {  
            let timer
            return function(){
                if(timer)clearTimeout(timer)
                timer = setTimeout(function(){
                    fn()
                },t)
            }
        }
        box.addEventListener('mousemove',debounce(mouseMove,500))
        
    </script>
 </body>
 </html>